
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Alice&#39;s Print Service 二分 | Shelter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Donald Wu">
    

    
    <meta name="description" content="Alice’s Print ServiceTime Limit: 1000MS        Memory Limit: 32768KB        64bit IO Format: %I64d &amp;amp; %I64uSubmit
Status
DescriptionAlice is providing print service, while the pricing doesn’t seem">
<meta property="og:type" content="article">
<meta property="og:title" content="Alice's Print Service 二分">
<meta property="og:url" content="http://wuyihao14.github.io/2015/11/02/AlicesPrintSerive_二分/index.html">
<meta property="og:site_name" content="Shelter">
<meta property="og:description" content="Alice’s Print ServiceTime Limit: 1000MS        Memory Limit: 32768KB        64bit IO Format: %I64d &amp;amp; %I64uSubmit
Status
DescriptionAlice is providing print service, while the pricing doesn’t seem">
<meta property="og:updated_time" content="2015-07-18T07:15:27.735Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alice's Print Service 二分">
<meta name="twitter:description" content="Alice’s Print ServiceTime Limit: 1000MS        Memory Limit: 32768KB        64bit IO Format: %I64d &amp;amp; %I64uSubmit
Status
DescriptionAlice is providing print service, while the pricing doesn’t seem">

    
    <link rel="alternative" href="/atom.xml" title="Shelter" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Shelter" title="Shelter"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Shelter">Shelter</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:wuyihao14.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/02/AlicesPrintSerive_二分/" title="Alice&#39;s Print Service 二分" itemprop="url">Alice&#39;s Print Service 二分</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Donald Wu" target="_blank" itemprop="author">Donald Wu</a>
		
  <p class="article-time">
    <time datetime="2015-11-02T10:42:59.327Z" itemprop="datePublished"> 發表於 2015-11-02</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		
			
		
		</div>
		
		<p>Alice’s Print Service<br>Time Limit: 1000MS        Memory Limit: 32768KB        64bit IO Format: %I64d &amp; %I64u<br>Submit</p>
<p>Status</p>
<p>Description<br>Alice is providing print service, while the pricing doesn’t seem to be reasonable, so people using her print service found some tricks to save money.<br>For example, the price when printing less than 100 pages is 20 cents per page, but when printing not less than 100 pages, you just need to pay only 10 cents per page. It’s easy to figure out that if you want to print 99 pages, the best choice is to print an extra blank page so that the money you need to pay is 100 × 10 cents instead of 99 × 20 cents.<br>Now given the description of pricing strategy and some queries, your task is to figure out the best ways to complete those queries in order to save money.</p>
<p>Input<br>The first line contains an integer T (≈ 10) which is the number of test cases. Then T cases follow.<br>Each case contains 3 lines. The first line contains two integers n, m (0 &lt; n, m ≤ 10 5 ). The second line contains 2n integers s 1, p 1 , s 2, p 2 , …, s n, p n (0=s 1 &lt; s 2 &lt; … &lt; s n ≤ 10 9 , 10 9 ≥ p 1 ≥ p 2 ≥ … ≥ p n ≥ 0).. The price when printing no less than s i but less than s i+1 pages is p i cents per page (for i=1..n-1). The price when printing no less than s n pages is p n cents per page. The third line containing m integers q 1 .. q m (0 ≤ q i ≤ 10 9 ) are the queries.</p>
<p>Output<br>For each query q i, you should output the minimum amount of money (in cents) to pay if you want to print q i pages, one output in one line.</p>
<p>Sample Input<br> 1<br>2 3<br>0 20 100 10<br>0 99 100 </p>
<p>Sample Output<br> 0<br>1000<br>1000 </p>
<p>Source<br>2013 Asia Changsha Regional Contest</p>
<p>打印必须选择页数大于q的方案，如果选择页数刚好大于q的方案（即s[i]&lt;=q&lt;s[i+1]）方案，可以只打印q页，否则必须打印s[i]页（价格为s[i]*p[i]）。后者是区间最小值问题，用二分解决。再与前者比较选较小即可。</p>
<pre><code><span class="preprocessor">#<span class="keyword">include</span> &lt;cstdio&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;

<span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;

<span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100010</span>;
<span class="keyword">int</span> n,m;
ll a[N],s[N],t[N];

<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{
    <span class="keyword">int</span> T;
    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);
    <span class="keyword">while</span> (T--){
        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);
        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){
            <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,s+i,t+i);
            a[i] = s[i]*t[i];
        }
        a[n] = <span class="number">0x3f3f3f3f3f3f3f3f</span>ll;
        <span class="keyword">for</span> (<span class="keyword">int</span> i=n-<span class="number">2</span>;i&gt;-<span class="number">1</span>;i--){
            a[i] = a[i]&lt;a[i+<span class="number">1</span>]?a[i]:a[i+<span class="number">1</span>];
        }
        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++){
            ll q;
            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;q);
            <span class="keyword">int</span> ind = upper_bound(s,s+n,q)-s;
            ll ans = t[ind-<span class="number">1</span>]*q;
            <span class="keyword">if</span> (ans &gt; a[ind]) ans = a[ind];

            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);
        }
    }
    <span class="keyword">return</span> <span class="number">0</span>;
}
</code></pre>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ACM/">ACM</a>
</div>


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://wuyihao14.github.io/2015/11/02/AlicesPrintSerive_二分/" data-title="Alice&#39;s Print Service 二分 | Shelter" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/11/02/Intel-Xeon-Phi协处理器高性能编程指南-总结/" title="Intel Xeon Phi协处理器高性能编程指南">
  <strong>上一篇：</strong><br/>
  <span>
  Intel Xeon Phi协处理器高性能编程指南</span>
</a>
</div>


<div class="next">
<a href="/2015/06/29/Aria2源代码笔记——2/"  title="Aria2源代码笔记——2.md">
 <strong>下一篇：</strong><br/> 
 <span>Aria2源代码笔记——2.md
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分類</p>
		<ul>
		
		  
			<li><a href="/categories/ACM/" title="ACM">ACM<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/AI/" title="AI">AI<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/CTF/" title="CTF">CTF<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cryptography/" title="Cryptography">Cryptography<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/HPC/" title="HPC">HPC<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Just4Fun/" title="Just4Fun">Just4Fun<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Math/" title="Math">Math<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Networking/" title="Networking">Networking<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming/" title="Programming">Programming<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Security/" title="Security">Security<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Server/" title="Server">Server<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/programming/" title="programming">programming<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/pwn/" title="pwn">pwn<sup>2</sup></a></li>
		  
		
		</ul>
</div>


  

  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
        
          <li>
            
            	<a href="http://blog.ikow.cn" target="_blank" title="k神">k神</a>
            
          </li>
        
          <li>
            
            	<a href="http://nlfox.sinaapp.com" target="_blank" title="狐神">狐神</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 訂閱</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> wuyihao. ^_^ <br/>
			Major in Network Engineering. Fancy 4 Algorithm, Infomation Security. Computer Network. etc</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Donald Wu">Donald Wu</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回頂部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>
